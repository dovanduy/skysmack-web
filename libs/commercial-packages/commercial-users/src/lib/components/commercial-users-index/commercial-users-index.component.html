<div class="wrapper">
    <div class="actions">
        <a mat-raised-button color="primary" class="call-to-action" [routerLink]="['/', 'users', 'create']">
            {{ 'COMMERCIAL_USERS.INDEX.CREATE' | translate }}
        </a>
    </div>

    <mat-card>
        <div style="width:100%;height:5px">
            <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
        </div>
        <mat-list *ngIf="users$ | async as users">
            <h3 mat-subheader>{{ 'COMMERCIAL_USERS.TITLE' | translate }}</h3>
            <mat-list-item *ngFor="let user of users">
                <h4 mat-line>{{ user.userName }}
                    <span style="font-size: 12px;font-style: italic;" *ngFor="let role of user.roles; let last = last">
                        {{ role }}
                        <span *ngIf="!last">, </span>
                    </span>
                </h4>

                <div mat-icon>
                    <a [routerLink]="['/', 'users', 'details', user.id]" mat-icon-button matTooltip="
        {{ 'COMMERCIAL_USERS.DETAILS' | translate }}">
                        <mat-icon>notes</mat-icon>
                    </a>
                </div>
                <div mat-icon>
                    <a [routerLink]="['/', 'tenants', 'tenant-users', user.id]" mat-icon-button matTooltip="
                                {{ 'COMMERCIAL_USERS.CONNECT_TO_TENANT' | translate }}">
                        <mat-icon>compare_arrows</mat-icon>
                    </a>
                </div>
                <div mat-icon>
                    <a [routerLink]="['/', 'users', 'roles', user.id]" mat-icon-button matTooltip="
                        {{ 'COMMERCIAL_USERS.INDEX.USERSROLES' | translate }}">
                        <mat-icon>vpn_key</mat-icon>
                    </a>
                </div>
                <div mat-icon>
                    <a [routerLink]="['/', 'users', 'edit', user.id]" mat-icon-button
                        matTooltip="{{ 'COMMERCIAL_USERS.EDIT' | translate }}">
                        <mat-icon>edit</mat-icon>
                    </a>
                </div>
                <div mat-icon>
                    <button (click)="remove(user)" mat-icon-button
                        matTooltip="{{ 'COMMERCIAL_USERS.REMOVE' | translate }}">
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>


            </mat-list-item>
        </mat-list>
    </mat-card>
</div>