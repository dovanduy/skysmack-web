<ss-container (menuItemActionEvent)="actionEvent($event)" [componentKey]="componentKey"
    *ngIf="loadedPackage$ | async as loadedPackage">
    <ss-file-storage-installation *ngIf="!(bucket$ | async)"></ss-file-storage-installation>

    <!-- Settings has been set. Show files -->
    <ng-container *ngIf="(bucket$ | async)">
        <mat-list>
            <!-- Breadcrumbs -->
            <ng-container *ngIf="breadCrumbs$ | async as breadCrumbs">
                <span class="breadcrumb" *ngIf="breadCrumbs.length === 0">Home</span>
                <a class="breadcrumb" *ngIf="breadCrumbs.length !== 0" [routerLink]="['/', packagePath]">Home</a>
                <span *ngFor="let path of breadCrumbs; let first = first; let last = last">
                    <span class="breadcrumb separator"> / </span><a class="breadcrumb" *ngIf="!last"
                        [routerLink]="['/', packagePath, path]">{{ path }}</a>
                    <span class="breadcrumb last" *ngIf="last">{{ path }}</span>
                </span>
            </ng-container>

            <!-- Folders -->
            <mat-list-item *ngFor="let folder of  folders$ | async">
                <mat-icon mat-list-icon>folder</mat-icon>
                <h4 mat-line [routerLink]="[currentLocation, folder.object.name.split('/')[0]]"
                    style="cursor: pointer;">
                    {{ folder.object.name.split('/')[0] }}</h4>
                <a [href]="folder.object.mediaLink">Link</a>
            </mat-list-item>

            <!-- Items -->
            <mat-list-item *ngFor="let item of  items$ | async">
                <mat-icon mat-list-icon>insert_drive_file</mat-icon>
                <h4 mat-line>{{item.object.name}}</h4>
                <a [href]="item.object.mediaLink">Link</a>
            </mat-list-item>

            <!-- Empty folder -->
            <p *ngIf="empty$ | async" style="color: #7A7A7A; font-size: 12px;">Folder is empty</p>

        </mat-list>
    </ng-container>
</ss-container>