<div *ngIf="sidebarMenu" class="docs-component-viewer-nav">
  <div class="docs-component-viewer-nav-content">
    <ng-container *ngFor="let menuArea of sidebarMenu.primaryMenuAreas; let last = last;">
      <nav *ngIf="menuArea.display">
        <button cdkAccordionItem #panel="cdkAccordionItem" (click)="panel.toggle()" expanded="true"
          class="docs-nav-content-btn" [attr.aria-label]="menuArea.displayName + ', section toggle'"
          [attr.aria-controls]="'panel-' + menuArea.id" [attr.aria-expanded]="panel.expanded">
          <mat-icon>{{panel.expanded ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</mat-icon>
          {{ menuArea.displayName | translate }}
        </button>

        <ul [@bodyExpansion]="panel.expanded ? 'expanded' : 'collapsed'" id="panel-{{ menuArea.id }}">
          <ng-container *ngFor="let menuItem of sidebarMenu.primaryMenuItems">
            <ng-container *ngIf="menuItem.area === menuArea.area">
              <ng-template [inAnyPermission]="menuItem.permissions"
                (permissionsChecked)="permissionsChecked($event, menuItem)">

                <!-- ACTION EVENT -->
                <li *ngIf="menuItem.isActionEvent && (menuItem | showMenuItemAction:undefined) && menuItem.display">
                  <span
                    (click)="this.menuItemActionEvent.emit({ action: menuItem.action, value: undefined, _this: menuItem._this });">{{ menuItem.displayName | translate }}</span>
                </li>

                <!-- URL EVENT -->
                <li *ngIf="!menuItem.isActionEvent && menuItem.display">
                  <a [routerLink]="[menuItem.url]">
                    {{ menuItem.displayName | translate }}
                  </a>
                </li>


              </ng-template>
            </ng-container>
          </ng-container>
        </ul>

        <hr *ngIf="!last" />
      </nav>
    </ng-container>
  </div>
</div>